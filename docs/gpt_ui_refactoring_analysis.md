# GPT UI 리팩토링 분석 및 구현 방향

## 1. 현재 UI 구조 분석

### 현재 레이아웃
- **구조**: 상단 헤더 + 중앙 콘텐츠 영역 (2단 구조)
- **네비게이션**: 상단 헤더에 수평 메뉴 (Chat, Search, Retrieval Test, Parsing)
- **테마**: 다크/라이트 모드 지원 (CSS 변수 기반)
- **스타일링**: Ant Design 기반 + 커스텀 CSS

### 주요 컴포넌트
- `Layout`: 상단 헤더 + 메뉴
- `ChatPage`: 채팅 인터페이스 (헤더 + 메인 영역)
- `ParsingPage`, `SearchPage`, `RetrievalTestPage`: 각 기능별 페이지

---

## 2. GPT UI의 핵심 특징 분석

### 2.1 레이아웃 구조: **3단 컬럼 레이아웃**

#### 왼쪽 사이드바 (Navigation Sidebar)
**기능:**
- 상단: 로고 + "새 채팅" 버튼 + "채팅 검색" 입력 필드
- 중단: 주요 기능 링크 (Pulse, 이미지, 앱, Codex 등)
- 하단: 모델/프로젝트 그룹 (GPT, DALL-E, GPT 탐색, 프로젝트)

**디자인 특징:**
- 세로 스크롤 가능한 사이드바
- 아이콘 + 텍스트 조합
- 기능별 그룹화
- 깔끔한 간격과 패딩

#### 중앙 메인 콘텐츠 영역 (Main Content)
**기능:**
- 상단 헤더: 현재 대화/문서 제목 + 공유하기 + 더보기 메뉴
- 본문: 마크다운 렌더링된 대화 내용
- 하단: 입력 영역

**디자인 특징:**
- 넓은 콘텐츠 영역 (최대 가독성)
- 마크다운 렌더링 (코드 블록, 제목, 목록 등)
- 코드/용어 강조 스타일 (회색 배경)
- 깔끔한 타이포그래피

#### 오른쪽 사이드바 (Assistant Panel)
**기능:**
- 상단: 작업 제목 + 시간 표시 + 닫기 버튼
- 본문: AI의 생각 과정/요약 (Pro 생각 중)
- 실시간 맥락 인식형 보조 정보 제공

**디자인 특징:**
- 좁은 사이드바 (보조 정보 전용)
- 실시간 업데이트
- 작업 상태 표시

---

### 2.2 디자인 시스템

#### 색상 팔레트 (다크 테마 중심)
- **배경색**: 짙은 회색/검정 (`#161618`, `#000000`, `#1f1f23`)
- **텍스트**: 흰색/밝은 회색 (`#f6f6f7`, `#b2b5b7`)
- **강조색**: 브랜드 컬러 (GPT는 녹색 계열)
- **코드 블록**: 어두운 배경 (`#0f172a`)

#### 타이포그래피
- **폰트**: 산세리프 (Inter, system-ui 계열)
- **크기**: 명확한 계층 구조 (xs, sm, base, lg)
- **가독성**: 적절한 line-height (1.5~1.7)

#### 간격 및 레이아웃
- **일관된 패딩**: 12px, 16px, 24px 단위
- **넓은 여백**: 콘텐츠 가독성 향상
- **반응형**: 화면 크기에 따른 적응

---

### 2.3 인터랙션 패턴

#### 내비게이션
- 사이드바에서 페이지 전환
- 현재 페이지 하이라이트
- 부드러운 전환 애니메이션

#### 입력 영역
- 하단 고정 입력창
- 실시간 입력 가능
- 전송 버튼 또는 Enter 키

#### 메시지 표시
- 사용자/어시스턴트 구분
- 아바타 표시
- 마크다운 렌더링
- 코드 하이라이팅

---

## 3. 현재 UI vs GPT UI 비교

| 항목 | 현재 UI | GPT UI | 개선 필요도 |
|------|---------|--------|------------|
| 레이아웃 | 2단 (헤더+콘텐츠) | 3단 (왼쪽+중앙+오른쪽) | ⭐⭐⭐⭐⭐ |
| 네비게이션 | 상단 수평 메뉴 | 왼쪽 사이드바 | ⭐⭐⭐⭐⭐ |
| 다크 테마 | 지원 (CSS 변수) | 기본 다크 테마 | ⭐⭐⭐ |
| 마크다운 | 지원 | 지원 | ⭐ |
| 코드 하이라이팅 | 지원 | 지원 | ⭐ |
| 보조 정보 패널 | 없음 | 오른쪽 사이드바 | ⭐⭐⭐⭐ |
| 채팅 히스토리 | 없음 | 사이드바에 표시 | ⭐⭐⭐⭐ |
| 검색 기능 | 없음 | 채팅 검색 | ⭐⭐⭐ |

---

## 4. 리팩토링 구현 방향

### 4.1 레이아웃 구조 변경

#### Phase 1: 3단 컬럼 레이아웃 구현
```typescript
// 새로운 레이아웃 구조
<Layout>
  <LeftSidebar />      // 네비게이션 + 채팅 히스토리
  <MainContent />      // 현재 페이지 콘텐츠
  <RightSidebar />     // 보조 정보 (선택적)
</Layout>
```

**구현 요소:**
1. `LeftSidebar` 컴포넌트 생성
   - 로고 영역
   - "새 채팅" 버튼
   - 채팅 검색 입력
   - 네비게이션 메뉴 (Chat, Search, Parsing, Retrieval Test)
   - 채팅 히스토리 목록 (선택적)

2. `RightSidebar` 컴포넌트 생성 (선택적)
   - 현재 작업 정보
   - AI 생각 과정 표시
   - 참조 문서 목록 등

3. `MainContent` 영역 조정
   - 왼쪽/오른쪽 사이드바 고려한 너비 조정
   - 반응형 레이아웃

---

### 4.2 왼쪽 사이드바 디자인

#### 구조
```
┌─────────────────────────┐
│ [로고] PE Agent         │
├─────────────────────────┤
│ [✏️] 새 채팅            │
│ [🔍] 채팅 검색          │
├─────────────────────────┤
│ [💬] Chat               │
│ [🔎] Search             │
│ [📄] Parsing            │
│ [🧪] Retrieval Test     │
├─────────────────────────┤
│ (채팅 히스토리)         │
│ - 대화 1                │
│ - 대화 2                │
└─────────────────────────┘
```

#### 스타일 가이드
- **너비**: 288px (고정 또는 접을 수 있음)
- **배경색**: `var(--color-bg-card)` (다크: `#1f1f23`)
- **아이템 높이**: 40px
- **호버 효과**: 배경색 변경
- **선택된 항목**: 왼쪽 보더 + 배경색 강조

---

### 4.3 중앙 콘텐츠 영역 개선

#### 헤더 개선
- 현재 페이지 제목 표시
- 공유하기 버튼 (선택적)
- 더보기 메뉴 (선택적)

#### 콘텐츠 영역
- 최대 너비 제한 (예: 1200px) + 중앙 정렬
- 넓은 패딩 (24px~32px)
- 마크다운 렌더링 개선
- 코드 블록 스타일 강화

---

### 4.4 오른쪽 사이드바 (선택적)

#### 사용 사례
1. **채팅 페이지**: AI 생각 과정, 참조 문서
2. **Parsing 페이지**: 파싱 진행 상태, 오류 정보
3. **Retrieval Test**: 테스트 결과 요약

#### 구현
- 기본적으로 숨김 (토글 버튼으로 표시)
- 너비: 320px
- 슬라이드 애니메이션

---

### 4.5 다크 테마 강화

#### 색상 팔레트 조정
```css
/* GPT 스타일 다크 테마 */
.dark {
  --color-bg-base: #161618;        /* 메인 배경 */
  --color-bg-canvas: #000000;      /* 전체 배경 */
  --color-bg-card: #1f1f23;        /* 카드/사이드바 */
  --color-bg-elevated: #27272a;    /* 상위 레이어 */
  
  --color-text-primary: #f6f6f7;   /* 주요 텍스트 */
  --color-text-secondary: #b2b5b7; /* 보조 텍스트 */
  
  --color-border: #2d2d30;         /* 경계선 */
}
```

---

### 4.6 채팅 히스토리 기능

#### 기능 요구사항
- 채팅 세션 목록 표시
- 최근 대화 순서로 정렬
- 제목 자동 생성 (첫 메시지 기반)
- 클릭 시 해당 대화 로드
- 삭제 기능

#### 구현
- `useChatHistory` 훅 생성
- 로컬 스토리지 또는 백엔드 API 연동
- 사이드바에 목록 표시

---

### 4.7 검색 기능

#### 채팅 검색
- 사이드바 상단에 검색 입력 필드
- 채팅 히스토리에서 검색
- 실시간 필터링

---

## 5. 구현 우선순위

### Phase 1: 핵심 레이아웃 (필수)
1. ✅ 3단 컬럼 레이아웃 구조 생성
2. ✅ 왼쪽 사이드바 컴포넌트 구현
3. ✅ 네비게이션을 사이드바로 이동
4. ✅ 반응형 레이아웃 (모바일 대응)

### Phase 2: 디자인 개선 (중요)
1. ✅ 다크 테마 색상 팔레트 조정
2. ✅ 사이드바 스타일링 (GPT 스타일)
3. ✅ 콘텐츠 영역 개선
4. ✅ 타이포그래피 개선

### Phase 3: 기능 추가 (선택)
1. ⏳ 채팅 히스토리 기능
2. ⏳ 채팅 검색 기능
3. ⏳ 오른쪽 사이드바 (보조 정보)
4. ⏳ 애니메이션 및 전환 효과

---

## 6. 기술 스택 고려사항

### 현재 사용 중
- React 18
- TypeScript
- Ant Design
- React Router
- CSS Variables

### 추가 고려
- **상태 관리**: 채팅 히스토리용 (Context API 또는 Zustand)
- **애니메이션**: CSS Transitions 또는 Framer Motion
- **로컬 스토리지**: 채팅 히스토리 저장

---

## 7. 참고 자료

### GPT UI 특징 요약
1. **3단 컬럼 레이아웃**: 왼쪽 네비게이션 + 중앙 콘텐츠 + 오른쪽 보조 정보
2. **다크 테마 중심**: 짙은 회색 배경 + 밝은 텍스트
3. **사이드바 네비게이션**: 수평 메뉴 대신 세로 사이드바
4. **채팅 히스토리**: 사이드바에 대화 목록 표시
5. **마크다운 렌더링**: 코드 블록, 제목, 목록 등 명확한 시각화
6. **맥락 인식형 보조 기능**: 오른쪽 사이드바로 실시간 정보 제공
7. **미니멀리즘**: 불필요한 장식 제거, 핵심 기능 집중

---

## 8. 다음 단계

1. **현재 문서 검토 및 피드백 수집**
2. **Phase 1 구현 시작** (3단 컬럼 레이아웃)
3. **디자인 시스템 문서화** (색상, 타이포그래피, 간격)
4. **컴포넌트 구조 설계** (재사용 가능한 컴포넌트)
5. **점진적 마이그레이션** (기존 기능 유지하면서 개선)
