# 다음 작업: DB 저장·LLM 응답·FE 화면 구현 준비

- 날짜(Date): 2025-11-25
- 담당자(Author): hskim
- 역할(Role): Plan
- 관련 이슈/티켓: -
- 관련 브랜치/PR: -
- 영역(Tags): [BE], [FE], [LLM], [DB], [Plan]

---

## 1. 작업 목표 (What & Why)
- 임베딩/전처리 정리 이후 다음 단계로 DB 저장, LLM 응답 생성, FE 화면 구현을 준비.
- 각 레이어별 해야 할 일과 우선순위를 정리해 후속 작업을 빠르게 시작.

## 2. 최종 결과 요약 (Outcome)
- BE: 임베딩/전처리 결과를 벡터 DB/메타데이터 DB에 저장하는 경로 설계, LLM 응답 파이프라인 계획.
- FE: 질문 입력/응답 표시/검색 결과(문서/스니펫) UI 기본 플로우 정의.
- LLM: 오케스트레이션(프롬프트, 응답 검증, 재시도) 설계 지침 마련.

## 3. 작업 과정 (Timeline / Steps)
1. DB 연동: 저장 경로/스키마(문서, 임베딩, 메타데이터) 정리, 벡터 DB 선택/클라이언트 결정.  
2. LLM 응답: 오케스트레이션 레이어 설계(프롬프트 템플릿, 응답 파싱/검증, 재시도).  
3. FE: 질문→응답→관련 문서/스니펫 노출까지의 화면 플로우 정의.  
4. 우선순위/리스크: DB 쓰기 권한/스키마, LLM 응답 신뢰성, FE API 계약 등을 메모.

## 4. 추가/수정한 테스트 목록 (Tests)
- 계획 문서만 작성. 추후 DB/LLM/FE 기능 구현 시 테스트 설계 필요.

## 5. 설계 및 의사결정 기록 (Design & Decisions)
- BE/LLM: 서비스 레이어에서 오케스트레이션(프롬프트 관리, 재시도) 담당, 인프라 클라이언트는 순수 호출만.  
- DB: 벡터 DB(FAISS/외부 서비스) + 메타데이터 DB(문서 ID/내용/임베딩 참조) 분리.  
- FE: API 계약 확정 후 질문/응답/근거 문서 뷰 구성.  
- TEI/OpenAI 엔진 추가는 추후로 미룸(현재 Sentence 엔진만 사용).

## 6. 회고 및 다음 할 일 (Retrospective / Next Steps)
- 다음 액션:
  - DB 저장 경로/스키마 초안 작성 및 클라이언트 선택.
  - LLM 오케스트레이션 서비스 설계(프롬프트, 검증, 재시도).
  - FE 기본 화면 와이어프레임/컴포넌트 설계 및 API 계약 정의.
- TEI/OpenAI 엔진 구현은 이후 단계에서 추가.
